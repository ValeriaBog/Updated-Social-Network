"use strict";(self.webpackChunksocial_network=self.webpackChunksocial_network||[]).push([[794],{9794:function(s,t,e){e.r(t),e.d(t,{default:function(){return q}});var n=e(5671),o=e(3144),r=e(136),a=e(5716),i=e(8683),l=e(2791),u=e(7781),c=e(364),d=e(9271),f=e(223),p=e(3018),m=e(3445),h=e(885),x={status:"ProfileStatus_status__AXP6U"},j=e(184),v=function(s){var t=s.status,e=s.updateStatus,n=(0,l.useState)(!1),o=(0,h.Z)(n,2),r=o[0],a=o[1],i=(0,l.useState)(t),u=(0,h.Z)(i,2),c=u[0],d=u[1];console.log(t);var f=function(){t!==c&&(r?e(c):d(t)),a(!r)};return r?(0,j.jsx)("div",{className:x.status,children:(0,j.jsx)("input",{value:c,onChange:function(s){d(s.currentTarget.value)},autoFocus:!0,onFocus:function(s){s.target.select()},onBlur:f,className:x.textField})}):(0,j.jsx)("div",{className:x.status,children:(0,j.jsx)("span",{onDoubleClick:f,children:null===t?"Good morning, my friends!":t})})},_={row:"ProfileInfo_row__lZlEc",descriptionBlock:"ProfileInfo_descriptionBlock__1rZXD",photoInfo:"ProfileInfo_photoInfo__s6bNc",nameUser:"ProfileInfo_nameUser__5Ga2A",infoUser:"ProfileInfo_infoUser__c05J7",textInfo:"ProfileInfo_textInfo__rbH-9"},g=function(s){var t=s.profile,e=s.status,n=s.updateStatus,o=function(s,t){return"".concat(s," ").concat(t||"in progress...")};return t?(0,j.jsxs)("div",{className:_.profile,children:[(0,j.jsx)("img",{src:"https://themified.com/friend-finder/images/covers/1.jpg",alt:"wallpaper"}),(0,j.jsx)("div",{className:_.row,children:(0,j.jsx)(v,{status:e,updateStatus:n})}),(0,j.jsxs)("div",{className:_.descriptionBlock,children:[(0,j.jsx)("img",{src:t.photos.small?t.photos.small:p,alt:"Avatar of ".concat(t.fullName),className:_.photoInfo}),(0,j.jsx)("div",{className:_.nameUser,children:t.fullName}),(0,j.jsxs)("div",{className:_.infoUser,children:[(0,j.jsx)("div",{className:_.textInfo,children:o("About me:",t.aboutMe)}),(0,j.jsx)("div",{className:_.textInfo,children:o("Job:",t.lookingForAJobDescription)}),(0,j.jsxs)("div",{className:_.textInfo,children:[o("Contacts:",t.contacts.facebook)," "]})]})]})]}):(0,j.jsx)(m.p,{})},P="Post_item__taeMK",N=function(s){var t=s.message,e=s.likesCount;return(0,j.jsxs)("div",{className:P,children:[(0,j.jsx)("img",{src:"https://avatars.githubusercontent.com/u/69945902?s=100",alt:"avatar"}),t,(0,j.jsxs)("div",{children:[(0,j.jsx)("span",{children:"like "}),(0,j.jsx)("span",{children:e})]})]})},k=e(704),b=e(6139),I=e(5210),Z=e(2916),S=(0,I.BS)(300),C=(0,I.Ei)(5),U=(0,k.Z)({form:"ProfileAddPostForm"})((function(s){var t=s.handleSubmit,e=s.invalid;return(0,j.jsxs)("form",{onSubmit:t,children:[(0,j.jsx)(b.Z,{component:Z.g,validate:[I.lp,C,S],name:"newPostText",placeholder:"Post message"}),(0,j.jsx)("div",{children:(0,j.jsx)("button",{disabled:e,children:"Add post"})})]})})),w="Posts_postsBlock__m036r",A="Posts_posts__UMYqF",y=(0,l.memo)((function(s){var t=s.posts,e=s.addPost,n=t.map((function(s){return(0,j.jsx)(N,{message:s.message,likesCount:s.likesCount},s.id)}));return(0,j.jsxs)("div",{className:w,children:[(0,j.jsx)("h3",{children:"My posts"}),(0,j.jsx)(U,{onSubmit:function(s){e(s.newPostText)}}),(0,j.jsx)("div",{className:A,children:n})]})})),B={addPost:f.ef.addPost},F=(0,u.qC)((0,c.$j)((function(s){return{posts:s.profilePage.posts}}),B))(y),T=function(s){var t=s.profile,e=s.status,n=s.updateStatus;return(0,j.jsxs)("div",{children:[(0,j.jsx)(g,{profile:t,status:e,updateStatus:n}),(0,j.jsx)(F,{})]})},M=(0,i.Z)((0,i.Z)({},f.ef),f.YA),D=(0,u.qC)((0,c.$j)((function(s){return{profile:s.profilePage.profile,status:s.profilePage.status,authorizedUserId:s.auth.id,isAuth:s.auth.isAuth}}),M),d.EN)(function(s){(0,r.Z)(e,s);var t=(0,a.Z)(e);function e(){return(0,n.Z)(this,e),t.apply(this,arguments)}return(0,o.Z)(e,[{key:"componentDidMount",value:function(){var s=this.props,t=s.getUserProfile,e=s.match,n=s.getStatus,o=s.authorizedUserId,r=s.history,a=Number(e.params.userId);!a&&o?a=o:a||o||r.push("/login"),t(a),n(a)}},{key:"render",value:function(){return(0,j.jsx)(T,(0,i.Z)({},this.props))}}]),e}(l.Component)),q=D},2916:function(s,t,e){e.d(t,{g:function(){return u}});var n=e(8683),o=e(5987),r="Textarea_formControl__8prTr",a="Textarea_error__ntugN",i=e(184),l=["input","meta"],u=function(s){var t=s.input,e=s.meta,u=(0,o.Z)(s,l),c=!e.pristine&&e.error,d=r+(c?" "+a:"");return(0,i.jsxs)("div",{className:d,children:[(0,i.jsx)("textarea",(0,n.Z)((0,n.Z)({},t),u)),c&&(0,i.jsx)("span",{children:e.error})]})}}}]);
//# sourceMappingURL=794.a3a89a04.chunk.js.map